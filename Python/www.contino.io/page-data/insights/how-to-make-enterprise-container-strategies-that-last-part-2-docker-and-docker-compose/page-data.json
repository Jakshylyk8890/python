{"componentChunkName":"component---src-templates-article-js","path":"/insights/how-to-make-enterprise-container-strategies-that-last-part-2-docker-and-docker-compose","result":{"data":{"sanityArticle":{"publishedAt":"28 February 2019","publishedAtRaw":"2019-02-28","title":"How To Make Enterprise Container Strategies That Last, Part 2: Docker and Docker Compose","seoTitle":"How To Make Enterprise Container Strategies That Last, Part 2: Docker and Docker Compose","seoDescription":"how-to-make-enterprise-container-strategies-that-last-part-2-docker-and-docker-compose","slug":{"current":"how-to-make-enterprise-container-strategies-that-last-part-2-docker-and-docker-compose"},"heroImage":{"alt":"How To Make Enterprise Container Strategies That Last, Part 2: Docker and Docker Compose","asset":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAUGCP/EACMQAAEDAwQCAwAAAAAAAAAAAAIAAQMEBREHEhMhMVFBQoH/xAAWAQEBAQAAAAAAAAAAAAAAAAADAAH/xAAXEQADAQAAAAAAAAAAAAAAAAAAAhNR/9oADAMBAAIRAxEAPwBHppq/sg4L3ShIw/cHw7/ivb3q7YoqIio6OQpdvW5+srLtrjjKQgFnAR9P5TOrgHizuPpvaaraFJMGt91VvNTc5pYBhijd+hYcoUaNNDNk3B2fPw6Fln0pJh//2Q==","aspectRatio":1.5015015015015014,"src":"https://cdn.sanity.io/images/hgftikht/production/e42571ff47ce4f27b9f88d98e14deb53b07d99cc-1000x666.jpg","srcSet":"https://cdn.sanity.io/images/hgftikht/production/e42571ff47ce4f27b9f88d98e14deb53b07d99cc-1000x666.jpg?w=250&h=167&fit=crop 250w,\nhttps://cdn.sanity.io/images/hgftikht/production/e42571ff47ce4f27b9f88d98e14deb53b07d99cc-1000x666.jpg?w=500&h=333&fit=crop 500w,\nhttps://cdn.sanity.io/images/hgftikht/production/e42571ff47ce4f27b9f88d98e14deb53b07d99cc-1000x666.jpg 1000w","srcWebp":"https://cdn.sanity.io/images/hgftikht/production/e42571ff47ce4f27b9f88d98e14deb53b07d99cc-1000x666.jpg?fm=webp","srcSetWebp":"https://cdn.sanity.io/images/hgftikht/production/e42571ff47ce4f27b9f88d98e14deb53b07d99cc-1000x666.jpg?w=250&h=167&fit=crop&fm=webp 250w,\nhttps://cdn.sanity.io/images/hgftikht/production/e42571ff47ce4f27b9f88d98e14deb53b07d99cc-1000x666.jpg?w=500&h=333&fit=crop&fm=webp 500w,\nhttps://cdn.sanity.io/images/hgftikht/production/e42571ff47ce4f27b9f88d98e14deb53b07d99cc-1000x666.jpg?fm=webp 1000w","sizes":"(max-width: 1000px) 100vw, 1000px"}}},"_rawBody":[{"_key":"21d0f5c7d5ff","_type":"block","children":[{"_key":"c01b49fb1d3e","_type":"span","marks":["strong"],"text":"Leaving off…"}],"markDefs":[],"style":"normal"},{"_key":"ec5c7b923095","_type":"block","children":[{"_key":"662af04fdf9f0","_type":"span","marks":[],"text":"Hello, again!"}],"markDefs":[],"style":"normal"},{"_key":"e61e7d5f79ef","_type":"block","children":[{"_key":"c3c435b7b0e90","_type":"span","marks":[],"text":"In my "},{"_key":"c3c435b7b0e91","_type":"span","marks":["201b12f0b29e"],"text":"last post"},{"_key":"c3c435b7b0e92","_type":"span","marks":[],"text":", I wrote about the perils of taking “big-bang” approaches towards adopting containers at scale within the enterprise. I also introduced some techniques teams can apply as alternatives."}],"markDefs":[{"_key":"201b12f0b29e","_type":"link","href":"https://www.contino.io/insights/how-to-make-enterprise-container-strategies-that-last-part-one"}],"style":"normal"},{"_key":"af3547e68cfa","_type":"block","children":[{"_key":"74d1cf4020040","_type":"span","marks":[],"text":"The next two posts follow on these talking points by introducing the “Stairs to Container Maturity,” an opinionated maturity ranking of popular container-enabling tools and platforms used by teams and companies worldwide. This post will introduce Docker and Docker-based orchestration platforms. The next section will focus on what you really want to hear about: Kubernetes and k8s-driven orchestration platforms. I originally thought of putting these two sections together and making one big Container Stairs post, but I found myself spending so much time on the fundamentals (Docker), I thought that splitting them up this way made more sense."}],"markDefs":[],"style":"normal"},{"_key":"60b30260ba4b","_type":"block","children":[{"_key":"cb7ed70dd2740","_type":"span","marks":["strong"],"text":"The Stairs to Container Maturity"}],"markDefs":[],"style":"normal"},{"_key":"527902cc8145","_type":"block","children":[{"_key":"a1c0480b1f9c0","_type":"span","marks":[],"text":""}],"markDefs":[],"style":"normal"},{"_key":"480fe30f9075","_type":"block","children":[{"_key":"ec69e3491b370","_type":"span","marks":[],"text":"The goals of the Stairs are two-fold."}],"markDefs":[],"style":"normal"},{"_key":"57da021dc342","_type":"block","children":[{"_key":"9a98fcef97e10","_type":"span","marks":[],"text":"The first goal of the Stairs is to help teams that are brand-new to containers get an idea of what an ideal journey should look like as they execute upon their enterprise container strategy. If you’ve heard of Docker but haven’t seen or applied it in practice, or if your teams are currently experimenting with the tool but don’t know where to go next, then you might find the Stairs helpful. You might find the Stairs less helpful if your team has already been “container-native” for some time, though it could serve as a good gut check to reaffirm that you’re still heading in the right direction."}],"markDefs":[],"style":"normal"},{"_key":"8d8c1aba3e53","_type":"block","children":[{"_key":"d8be9742a61e0","_type":"span","marks":[],"text":"The Stairs’s second goal is to help engineering managers understand the “container-native” landscape to make better product and project-level decisions. One can think of it as a directed and container-native-specific Magic Quadrant of sorts. You might find this helpful if your organization is trying to decide between multiple platforms but is having trouble making a decision."}],"markDefs":[],"style":"normal"},{"_key":"80bd0083d607","_type":"block","children":[{"_key":"5cd19900881a0","_type":"span","marks":[],"text":"I will not provide in-depth coverage into each tool. Doing so will create a dangerously long and hard-to-follow post and detracts from the purpose of the Stairs: to help teams figure out where to go next. However, I’ll provide links containing more info so you can peruse them at your own leisure."}],"markDefs":[],"style":"normal"},{"_key":"67dcea7461c4","_type":"block","children":[{"_key":"568fbb9a57630","_type":"span","marks":["strong"],"text":"Stair 0: Getting Started with Docker"}],"markDefs":[],"style":"h2"},{"_key":"3a328adfbd05","_type":"block","children":[{"_key":"4e3f5299935b0","_type":"span","marks":[],"text":""}],"markDefs":[],"style":"normal"},{"_key":"e8a622735d5e","_type":"block","children":[{"_key":"394e49e659f80","_type":"span","marks":["strong"],"text":"What is it?"}],"markDefs":[],"style":"h3"},{"_key":"39a10d742482","_type":"block","children":[{"_key":"150fb7c23ff10","_type":"span","marks":["ce41ac5fa035"],"text":"Docker"},{"_key":"150fb7c23ff11","_type":"span","marks":[],"text":" is a service that gives developers the ability to package and run their applications into isolated compute units, or "},{"_key":"150fb7c23ff12","_type":"span","marks":["em"],"text":"containers"},{"_key":"150fb7c23ff13","_type":"span","marks":[],"text":". Unlike virtual machines, Docker containers are isolated at the kernel-level, not at the processor-level. Additionally, Docker also provides support for templates, or Dockerfiles, that developers can use to describe everything that’s needed for their applications to run. The instructions from these Dockerfiles are used to generate "},{"_key":"150fb7c23ff14","_type":"span","marks":["em"],"text":"container images"},{"_key":"150fb7c23ff15","_type":"span","marks":[],"text":" from which containers can be created. Both of these features enable consistency in application behavior wherever the application’s container lives."}],"markDefs":[{"_key":"ce41ac5fa035","_type":"link","href":"https://docker.com/"}],"style":"normal"},{"_key":"337dde63fe97","_type":"block","children":[{"_key":"8074454bfd490","_type":"span","marks":[],"text":"Put more simply, if you’ve ever heard the phrase “but it worked on "},{"_key":"8074454bfd491","_type":"span","marks":["em"],"text":"my"},{"_key":"8074454bfd492","_type":"span","marks":[],"text":" machine,” then Docker is the solution to that problem."}],"markDefs":[],"style":"normal"},{"_key":"1f850b8e08d6","_type":"block","children":[{"_key":"de888e80b9b70","_type":"span","marks":["strong"],"text":"An Example"}],"markDefs":[],"style":"h3"},{"_key":"34a4d5049a2e","_type":"block","children":[{"_key":"3510fb11ebec0","_type":"span","marks":[],"text":"Let’s say that I wanted to run an application that looks for and prints a word in a very large text file. I could write this with a shell script like this one:"}],"markDefs":[],"style":"normal"},{"_key":"fd704a272814","_type":"block","children":[{"_key":"f1865b3ef0e30","_type":"span","marks":[],"text":"#!/usr/bin/env bash #my_app.sh <SEARCH_TERM> <FILE> word_to_find=\"${1?Please provide the word to find.}\" file_to_read=\"${2?Please provide the file to read.}\" grep -i \"$word_to_find\" \"$file_to_read\""}],"markDefs":[],"style":"normal"},{"_key":"3508c0690eca","_type":"block","children":[{"_key":"6ae004f6b14c0","_type":"span","marks":[],"text":"This would work great on my machine, as I have bash and grep installed. But what if I gave this to someone who didn’t use bash by default? What if I gave this to someone that’s running a very old version of bash that doesn’t support the variable substitution that I’m using here to require certain parameters? What if I ran this on an extremely limited system that doesn’t have grep installed? I have a Mac, which uses the BSD version of grep by default. What if I gave this to someone running Linux which uses the GNU version of grep by default?"}],"markDefs":[],"style":"normal"},{"_key":"f0ffb0935b1a","_type":"block","children":[{"_key":"c097791111280","_type":"span","marks":[],"text":"Traditionally, I would have to use configuration management tools like "},{"_key":"c097791111281","_type":"span","marks":["faf17dd02739"],"text":"Ansible"},{"_key":"c097791111282","_type":"span","marks":[],"text":", "},{"_key":"c097791111283","_type":"span","marks":["b6eb4687249a"],"text":"Chef"},{"_key":"c097791111284","_type":"span","marks":[],"text":" or "},{"_key":"c097791111285","_type":"span","marks":["b9787e1f907a"],"text":"Puppet"},{"_key":"c097791111286","_type":"span","marks":[],"text":" to ensure that these dependencies are met on any machine this script runs on. This can become a large management overhead requiring the use of centralized configuration management solutions like Chef Server or Ansible Tower to remediate."}],"markDefs":[{"_key":"faf17dd02739","_type":"link","href":"https://ansible.io/"},{"_key":"b6eb4687249a","_type":"link","href":"https://chef.io/"},{"_key":"b9787e1f907a","_type":"link","href":"https://puppet.com/"}],"style":"normal"},{"_key":"f544052d7d47","_type":"block","children":[{"_key":"578ec8f143ff0","_type":"span","marks":[],"text":"The Dockerfile solves for this, as I (the developer) can express everything that my application needs to run (including my application) and have Docker take care of the rest. Here’s an example for our simple word-finding application:"}],"markDefs":[],"style":"normal"},{"_key":"8fa46e0c4ef6","_type":"block","children":[{"_key":"8477c8ef733b0","_type":"span","marks":[],"text":"FROM alpine MAINTAINER Carlos Nunez <dev@carlosnunez.me> RUN apk install bash=3.2,grep=2.5.1 COPY my_app.sh /my_app.sh USER 1001 ENTRYPOINT /my_app.sh"}],"markDefs":[],"style":"normal"},{"_key":"0b912856b216","_type":"block","children":[{"_key":"2d12eaa81e1f0","_type":"span","marks":[],"text":"On any machine that can support Docker, I would do the following to run this:"}],"markDefs":[],"style":"normal"},{"_key":"4d959b781120","_type":"block","children":[{"_key":"bf7a7357a6090","_type":"span","marks":[],"text":"Build the image: docker build -t my_app ."}],"level":1,"listItem":"number","markDefs":[],"style":"normal"},{"_key":"67ada2b5837a","_type":"block","children":[{"_key":"3788565f591f0","_type":"span","marks":[],"text":"Run the app: docker run my_app \"my_search_term\" \"file_to_search_in\""}],"level":1,"listItem":"number","markDefs":[],"style":"normal"},{"_key":"6624087d35f5","_type":"block","children":[{"_key":"d131851a3d400","_type":"span","marks":[],"text":"Though this seems like very little changed on the surface, there is a lot going on underneath:"}],"markDefs":[],"style":"normal"},{"_key":"f15f68ac149b","_type":"block","children":[{"_key":"7501ee45772b0","_type":"span","marks":[],"text":"Our Dockerfile ensures that the version of bash and grep that we need is the same on every container created from this container image."}],"level":1,"listItem":"number","markDefs":[],"style":"normal"},{"_key":"d5df690c4da6","_type":"block","children":[{"_key":"d1d9dd7fbe4b0","_type":"span","marks":[],"text":"Any container that starts from this image will "},{"_key":"d1d9dd7fbe4b1","_type":"span","marks":["em"],"text":"only"},{"_key":"d1d9dd7fbe4b2","_type":"span","marks":[],"text":" run my_app.sh by default."}],"level":1,"listItem":"number","markDefs":[],"style":"normal"},{"_key":"a418c593d52b","_type":"block","children":[{"_key":"93723ca3ac0d0","_type":"span","marks":[],"text":"The filesystem used by the container will only have the libraries and packages the script needs and nothing else, greatly reducing your container’s attack surface and system overhead."}],"level":1,"listItem":"number","markDefs":[],"style":"normal"},{"_key":"3529461b6dd5","_type":"block","children":[{"_key":"b4685e772f7c0","_type":"span","marks":[],"text":"Because we provide a USER directive, the application will always use the user ID provided instead of some random account."}],"level":1,"listItem":"number","markDefs":[],"style":"normal"},{"_key":"faa319662dce","_type":"block","children":[{"_key":"65c48f62f2ae0","_type":"span","marks":[],"text":"What previously required a cache of cookbooks or recipes and servers can now be reduced to a file and a few commands. Pretty impressive."}],"markDefs":[],"style":"normal"},{"_key":"91e63009b967","_type":"block","children":[{"_key":"074528adfff20","_type":"span","marks":["strong"],"text":"Use Cases"}],"markDefs":[],"style":"h3"},{"_key":"db7c6465ff33","_type":"block","children":[{"_key":"ccf1608618a30","_type":"span","marks":["strong"],"text":"Local Development."}],"markDefs":[],"style":"h4"},{"_key":"611a7ae1ef73","_type":"block","children":[{"_key":"a234ab8a50090","_type":"span","marks":[],"text":""}],"markDefs":[],"style":"normal"},{"_key":"7e927132de67","_type":"block","children":[{"_key":"5b6496d7a0c90","_type":"span","marks":[],"text":"If you asked me where Docker fit into enterprise container strategies in 2014, I would’ve said “everywhere.” Today, I feel that “raw Docker” is best suited for local development."}],"markDefs":[],"style":"normal"},{"_key":"e1d37aa14587","_type":"block","children":[{"_key":"1f93752e4f0d0","_type":"span","marks":[],"text":"While Docker itself is very powerful, it is also very lacking in areas that matter at large scale. Container networking with raw Docker is a great example of this."}],"markDefs":[],"style":"normal"},{"_key":"3634bc376238","_type":"block","children":[{"_key":"03de7746f3850","_type":"span","marks":[],"text":"Docker provides "},{"_key":"03de7746f3851","_type":"span","marks":["4b9edeb2cd45"],"text":"a few modes"},{"_key":"03de7746f3852","_type":"span","marks":[],"text":" for enabling container networking. The most common mode, bridge networking, makes it very easy for containers to receive a host-local, non-routable IP address. This combined with "},{"_key":"03de7746f3853","_type":"span","marks":["1ca6fec39783"],"text":"exposing ports"},{"_key":"03de7746f3854","_type":"span","marks":[],"text":" makes it easy for developers to host network- and web-services right from Docker."}],"markDefs":[{"_key":"4b9edeb2cd45","_type":"link","href":"https://docs.docker.com/network/"},{"_key":"1ca6fec39783","_type":"link","href":"https://docs.docker.com/config/containers/container-networking/#published-ports"}],"style":"normal"},{"_key":"ee434f1909f8","_type":"block","children":[{"_key":"0fa5ee58f2990","_type":"span","marks":[],"text":"The biggest issue with this is that binding a port to a container requires a free port on the host. If you want to run a website from within Docker and port 80 is taken on your host already, you’re out of luck. Keeping track of used ports on every host running your containerized website becomes a massive chore. Imagine doing this with 1000 containers running in production!"}],"markDefs":[],"style":"normal"},{"_key":"8a5e9fadabf3","_type":"block","children":[{"_key":"2cbfa0d8da760","_type":"span","marks":["997d5c7b6557"],"text":"Docker Swarm"},{"_key":"2cbfa0d8da761","_type":"span","marks":[],"text":", which we’ll discuss as we move up the Stairs, uses overlay networking and Layer 7 routing (i.e. “service meshes”) to address these concerns. However, these concerns are almost never concerns when developing locally."}],"markDefs":[{"_key":"997d5c7b6557","_type":"link","href":"https://docs.docker.com/engine/swarm/"}],"style":"normal"},{"_key":"72d00ca6ebc3","_type":"block","children":[{"_key":"8b60abba34850","_type":"span","marks":["strong"],"text":"Pre-Onboarding Legacy Applications"}],"markDefs":[],"style":"h4"},{"_key":"885693cb65a0","_type":"block","children":[{"_key":"9ec1a50a3e5c0","_type":"span","marks":[],"text":""}],"markDefs":[],"style":"normal"},{"_key":"e8bee7479028","_type":"block","children":[{"_key":"9c56977267680","_type":"span","marks":[],"text":"Your organization maintains an important and "},{"_key":"9c56977267681","_type":"span","marks":["em"],"text":"large"},{"_key":"9c56977267682","_type":"span","marks":[],"text":" web portal backed by Java 1.6 and hosted on WebLogic. It relies on, oh, let’s say, 70 billion Enterprise Java Beans (EJB), and many of them have to be co-located on the same WebLogic server for your portal to run."}],"markDefs":[],"style":"normal"},{"_key":"efd4479cf3cb","_type":"block","children":[{"_key":"3d003829ee470","_type":"span","marks":[],"text":"As an engineering manager, you "},{"_key":"3d003829ee471","_type":"span","marks":["em"],"text":"could"},{"_key":"3d003829ee472","_type":"span","marks":[],"text":" decide to immediately adopt "},{"_key":"3d003829ee473","_type":"span","marks":["fa1f4381ae55"],"text":"Red Hat’s OpenShift"},{"_key":"3d003829ee474","_type":"span","marks":[],"text":" and use its Source-2-Image functionality to migrate each Bean one-by-one in massive waves. Taking this approach usually results in Enterprise IT setting up OpenShift in a hurry, everyone in your Technology Group having to learn OpenShift and "},{"_key":"3d003829ee475","_type":"span","marks":["em"],"text":"also"},{"_key":"3d003829ee476","_type":"span","marks":[],"text":" combing through many, many, "},{"_key":"3d003829ee477","_type":"span","marks":["em"],"text":"many"},{"_key":"3d003829ee478","_type":"span","marks":[],"text":" years of late night production release duct tape in hopes that everything will "},{"_key":"3d003829ee479","_type":"span","marks":["em"],"text":"just work"},{"_key":"3d003829ee4710","_type":"span","marks":[],"text":" before deadline."}],"markDefs":[{"_key":"fa1f4381ae55","_type":"link","href":"https://openshift.com/"}],"style":"normal"},{"_key":"2eaf0d41a846","_type":"block","children":[{"_key":"dea107398b8d0","_type":"span","marks":[],"text":"Another, less stressful, alternative, is putting timeboxes around seeing how a few important, but not show-stopping, EJBs work when put into Docker images."}],"markDefs":[],"style":"normal"},{"_key":"8bbb370e725a","_type":"block","children":[{"_key":"067efeb66e1b0","_type":"span","marks":[],"text":"Selecting this alternative yields a few advantages:"}],"markDefs":[],"style":"normal"},{"_key":"ac4189274787","_type":"block","children":[{"_key":"0942197e67bc0","_type":"span","marks":["strong"],"text":"Muscle memory"},{"_key":"0942197e67bc1","_type":"span","marks":[],"text":". Your teams can learn how to develop in and use Docker before moving onto an orchestrator without having to learn everything at once."}],"level":1,"listItem":"bullet","markDefs":[],"style":"normal"},{"_key":"42c4ee8d1391","_type":"block","children":[{"_key":"891edbf943af0","_type":"span","marks":["strong"],"text":"Reduces problem scope"},{"_key":"891edbf943af1","_type":"span","marks":[],"text":". Experimenting with raw Docker first gives your team time to work through the core problems that prevent your application from running in containers, many of which are likely to get lost in a massive migration to OpenShift."}],"level":1,"listItem":"bullet","markDefs":[],"style":"normal"},{"_key":"7a313f913b68","_type":"block","children":[{"_key":"8d962632e18e0","_type":"span","marks":["strong"],"text":"Better long-term stability"},{"_key":"8d962632e18e1","_type":"span","marks":[],"text":". My experience has shown that migrating applications to Docker with raw Docker forces many hard architectural conversations, as many patterns that worked in the application server model "},{"_key":"8d962632e18e2","_type":"span","marks":["0ee37031eadc"],"text":"fall over"},{"_key":"8d962632e18e3","_type":"span","marks":[],"text":" when containers come into the picture."}],"level":1,"listItem":"bullet","markDefs":[{"_key":"0ee37031eadc","_type":"link","href":"https://12factor.net/"}],"style":"normal"},{"_key":"8d06904d40ca","_type":"block","children":[{"_key":"f40fcec8d2c20","_type":"span","marks":["strong"],"text":"Things To Watch Out For"}],"markDefs":[],"style":"h3"},{"_key":"996602821155","_type":"block","children":[{"_key":"198ccb7cfe570","_type":"span","marks":["strong"],"text":"Kernel Gotchas"}],"markDefs":[],"style":"h4"},{"_key":"b3eee3b1048e","_type":"block","children":[{"_key":"a6d38e9ffaf10","_type":"span","marks":[],"text":""}],"markDefs":[],"style":"normal"},{"_key":"5432ed453c38","_type":"block","children":[{"_key":"4fcd7e5e89150","_type":"span","marks":[],"text":"As mentioned earlier, Docker virtualizes the operating system’s "},{"_key":"4fcd7e5e89151","_type":"span","marks":["em"],"text":"kernel"},{"_key":"4fcd7e5e89152","_type":"span","marks":[],"text":", not the hardware the operating system runs on. This means that you cannot run Windows applications in Linux containers, and you cannot run Linux applications in (relatively new) Windows containers."}],"markDefs":[],"style":"normal"},{"_key":"9cae1dd7dcdc","_type":"block","children":[{"_key":"4a12c633c7d40","_type":"span","marks":[],"text":"Prior to Windows 10 and Windows Server 2016, this meant that Windows developers had to install Docker Machine or provision their own virtual machine with "},{"_key":"4a12c633c7d41","_type":"span","marks":["b690b14c2f75"],"text":"Vagrant"},{"_key":"4a12c633c7d42","_type":"span","marks":[],"text":" or a similar tool to toy with it. This also made Docker a non-starter for Microsoft-heavy shops, with SQL Server, .NET 4.x and IIS being (recent) exceptions."}],"markDefs":[{"_key":"b690b14c2f75","_type":"link","href":"https://hashicorp.com/vagrant"}],"style":"normal"},{"_key":"779ee87c05ea","_type":"block","children":[{"_key":"123beb0fb5fd0","_type":"span","marks":[],"text":"Now that the Windows 10 and Server 2016 kernels natively support containers, Windows developers can use the Docker for Windows service to containerize their Windows applications. Microsoft has several container images available for IIS, SQL Server and the .NET framework. The only caveat is that Windows containers use Windows Server 2016 Nano as the base operating system, which is about 9GB large. Consequently, all Windows container images will be "},{"_key":"123beb0fb5fd1","_type":"span","marks":["em"],"text":"at least that large"},{"_key":"123beb0fb5fd2","_type":"span","marks":[],"text":", which can make cold start times slower to a lot slower depending on your network connection."}],"markDefs":[],"style":"normal"},{"_key":"5f3993b32e21","_type":"block","children":[{"_key":"ff7f3c5aa2500","_type":"span","marks":["strong"],"text":"Adding unnecessary complexity"}],"markDefs":[],"style":"h4"},{"_key":"2f6b07f94577","_type":"block","children":[{"_key":"cf4055549f0e0","_type":"span","marks":[],"text":"When you find your team implementing automated deployment strategies, service discovery features or easier ways of integrating logs from your Docker containers into centralized logging facilities, you are probably ready for "},{"_key":"cf4055549f0e1","_type":"span","marks":["627987c41828"],"text":"Stair 2"},{"_key":"cf4055549f0e2","_type":"span","marks":[],"text":"."}],"markDefs":[{"_key":"627987c41828","_type":"link","href":"https://docs.google.com/document/d/1xQPFEaCuoHs2GGCrOA7IlBbnKbi7IKoSsK8sWP8Lj4w/edit#bookmark=id.147n2zr"}],"style":"normal"},{"_key":"b0d31bb065a3","_type":"block","children":[{"_key":"5b866d8061950","_type":"span","marks":["strong"],"text":"Treating containers like VMs."}],"markDefs":[],"style":"h4"},{"_key":"661b6821db73","_type":"block","children":[{"_key":"848eefe9cdc40","_type":"span","marks":[],"text":"Do you find yourself ssh‘ing into your containers to start various processes, or feeling the desire to install a service manager like systemd or supervisord to run a bunch of processes at once? If so, "},{"_key":"848eefe9cdc41","_type":"span","marks":["strong","em"],"text":"you are probably over-complicating things"},{"_key":"848eefe9cdc42","_type":"span","marks":["em"],"text":"."},{"_key":"848eefe9cdc43","_type":"span","marks":[],"text":". Containers are not VMs. Everything that your application needs to start itself should be in the Dockerfile, and any changes that you need to make to your containers should make it back in there. As well, "},{"_key":"848eefe9cdc44","_type":"span","marks":["strong","em"],"text":"containers are meant to run one thing"},{"_key":"848eefe9cdc45","_type":"span","marks":[],"text":". Having containers run multiple processes at once creates a single-point-of-failure that makes discoverability "},{"_key":"848eefe9cdc46","_type":"span","marks":["em"],"text":"really"},{"_key":"848eefe9cdc47","_type":"span","marks":[],"text":" hard, especially at large scale."}],"markDefs":[],"style":"normal"},{"_key":"01b87ae44d2d","_type":"block","children":[{"_key":"cb1333ad9e350","_type":"span","marks":[],"text":"Here’s an example. Let’s say that you have a Docker image that installs Postgres and NodeJS to host a two-tier web app. It uses supervisord to run both npm and postgres at invocation time via the container’s ENTRYPOINT. This container will run an important web application for your company."}],"markDefs":[],"style":"normal"},{"_key":"4953be465e3f","_type":"block","children":[{"_key":"16cb1f0119fe0","_type":"span","marks":[],"text":"What happens if developers try to run this container thinking that it’s just a web app? When they stop the container, they will be surprised that data is, at best corrupted (if using a volume mount) or, at worst, completely gone (if not) because "},{"_key":"16cb1f0119fe1","_type":"span","marks":["em"],"text":"they had no idea that the container also hosted its database"},{"_key":"16cb1f0119fe2","_type":"span","marks":[],"text":"."}],"markDefs":[],"style":"normal"},{"_key":"c93e3b8296d5","_type":"block","children":[{"_key":"e137b86a24d50","_type":"span","marks":[],"text":"The desire to run multiple applications at once is usually an indicator that you want an orchestrator of some kind."}],"markDefs":[],"style":"normal"},{"_key":"a8bae7a1e65d","_type":"block","children":[{"_key":"0c7773aa8eef0","_type":"span","marks":["strong"],"text":"Alternatives"}],"markDefs":[],"style":"h3"},{"_key":"d2d2548b16c0","_type":"block","children":[{"_key":"3871316b19980","_type":"span","marks":["strong"],"text":"containerd and runc"}],"markDefs":[],"style":"h4"},{"_key":"c45c7b79907f","_type":"block","children":[{"_key":"a764758bf0660","_type":"span","marks":[],"text":"Docker separated the runtime from the Docker client and server sometime in 2016. This was done to prevent vendor lock-in, establish an industry standard for future container runtimes to adhere to and enable alternative clients to emerge. Docker also did this to allow themselves to produce an enterprise Docker offering."}],"markDefs":[],"style":"normal"},{"_key":"6ca21c320889","_type":"block","children":[{"_key":"c40b1cdfd8cb0","_type":"span","marks":["96fc051ae47b"],"text":"containerd"},{"_key":"c40b1cdfd8cb1","_type":"span","marks":[],"text":" is the agnostic, industry-standard runtime that came from this initiative. "},{"_key":"c40b1cdfd8cb2","_type":"span","marks":["9f4c4aa41bd0"],"text":"runc"},{"_key":"c40b1cdfd8cb3","_type":"span","marks":[],"text":" is an example of an open-source client. These are the default on modern Kubernetes installations."}],"markDefs":[{"_key":"96fc051ae47b","_type":"link","href":"https://github.com/containerd/containerd"},{"_key":"9f4c4aa41bd0","_type":"link","href":"https://github.com/opencontainers/runc"}],"style":"normal"},{"_key":"999f090c4044","_type":"block","children":[{"_key":"7fbe17e115eb0","_type":"span","marks":["strong"],"text":"rkt"}],"markDefs":[],"style":"h4"},{"_key":"c2788ec3c66b","_type":"block","children":[{"_key":"197308be157a0","_type":"span","marks":[],"text":""}],"markDefs":[],"style":"normal"},{"_key":"28592495536a","_type":"block","children":[{"_key":"944dfd93922d0","_type":"span","marks":["9f6ee190ee73"],"text":"rkt"},{"_key":"944dfd93922d1","_type":"span","marks":[],"text":" is a security-conscious container runtime that aims to address some of Docker’s security pitfalls."}],"markDefs":[{"_key":"9f6ee190ee73","_type":"link","href":"https://coreos.com/rkt"}],"style":"normal"},{"_key":"15f7a0b431f1","_type":"block","children":[{"_key":"6ff00bf6e4c30","_type":"span","marks":["em"],"text":"Jails, Zones, LXC containers and Canonical LXD"}],"markDefs":[],"style":"normal"},{"_key":"72c03a360c10","_type":"block","children":[{"_key":"2861bad4059e0","_type":"span","marks":[],"text":""}],"markDefs":[],"style":"normal"},{"_key":"1a5584c2f16e","_type":"block","children":[{"_key":"76011a7c8d380","_type":"span","marks":[],"text":"Despite the massive hype around Docker and containers in general, containers are not a new concept! The need to create sandboxes for users to run applications or do other work in without compromising its host has been around for a long time. BSD developers solved this by implementing "},{"_key":"76011a7c8d381","_type":"span","marks":["52d0ed913c56"],"text":"jails"},{"_key":"76011a7c8d382","_type":"span","marks":[],"text":" and the chroot system call. chroot changes the root directory of a given process to some other directory, and a BSD jail provides an IP address and an entrypoint from which an application can be invoked. Solaris provided a similar concept through Zones."}],"markDefs":[{"_key":"52d0ed913c56","_type":"link","href":"https://www.freebsd.org/doc/handbook/jails.html"}],"style":"normal"},{"_key":"6c73ceab7921","_type":"block","children":[{"_key":"56ebe56cea730","_type":"span","marks":[],"text":"Google and others extended on this circa 2007 by authoring Linux Containers, or "},{"_key":"56ebe56cea731","_type":"span","marks":["aff647429e2a"],"text":"LXC"},{"_key":"56ebe56cea732","_type":"span","marks":[],"text":". Unlike BSD jails, Linux containers use "},{"_key":"56ebe56cea733","_type":"span","marks":["em"],"text":"namespaces"},{"_key":"56ebe56cea734","_type":"span","marks":[],"text":" to provide isolated resources to each containerized process and "},{"_key":"56ebe56cea735","_type":"span","marks":["em"],"text":"control groups"},{"_key":"56ebe56cea736","_type":"span","marks":[],"text":" to, well, "},{"_key":"56ebe56cea737","_type":"span","marks":["em"],"text":"control"},{"_key":"56ebe56cea738","_type":"span","marks":[],"text":" resources consumed by them. In fact, Docker is mostly LXC containers with a Union File System to enable container images and image layers and an API."}],"markDefs":[{"_key":"aff647429e2a","_type":"link","href":"https://linuxcontainers.org/"}],"style":"normal"},{"_key":"9634debce64f","_type":"block","children":[{"_key":"6f476abe79dd0","_type":"span","marks":[],"text":"Canonical provides a LXC-based alternative called "},{"_key":"6f476abe79dd1","_type":"span","marks":["cf8999b6d777"],"text":"LXD"},{"_key":"6f476abe79dd2","_type":"span","marks":[],"text":". It provides a similar feature set to Docker. I personally haven’t used it; I’m curious to hear about your experiences with it, however!"}],"markDefs":[{"_key":"cf8999b6d777","_type":"link","href":"https://linuxcontainers.org/lxd/introduction/"}],"style":"normal"},{"_key":"136a54a6a9f6","_type":"block","children":[{"_key":"25bb442fea9a0","_type":"span","marks":["strong"],"text":"Chef Habitat"}],"markDefs":[],"style":"h4"},{"_key":"d078efd941f5","_type":"block","children":[{"_key":"9f81a6fee1fa0","_type":"span","marks":[],"text":""}],"markDefs":[],"style":"normal"},{"_key":"e81facd27556","_type":"block","children":[{"_key":"ccfb9de109830","_type":"span","marks":[],"text":"Chef released "},{"_key":"ccfb9de109831","_type":"span","marks":["d4f243294352"],"text":"Chef Habitat"},{"_key":"ccfb9de109832","_type":"span","marks":[],"text":" in 2016 to provide developers a way of packaging and running multi-process applications in a consistent way. It uses an infrastructure very similar to Docker Swarm (discussed later) underneath the hood, and it also provides a templating system for developers to express the automation required to install and start their applications."}],"markDefs":[{"_key":"d4f243294352","_type":"link","href":"https://habitat.sh/"}],"style":"normal"},{"_key":"537ebc31e4a0","_type":"block","children":[{"_key":"0ec105fad0610","_type":"span","marks":[],"text":"I can’t speak to how Habitat works, as I haven’t used it myself. I also haven’t found many people that use it either, which is part of my problem with it. I tend to trust technologies with a large community backing over products that, for better or worse, are mostly used by large enterprises that can afford support contracts. I have three reasons for operating this way:"}],"markDefs":[],"style":"normal"},{"_key":"49e2c579a620","_type":"block","children":[{"_key":"e0b7299d44400","_type":"span","marks":[],"text":"It is much easier to give and receive help for a product that has a large community behind it."}],"level":1,"listItem":"number","markDefs":[],"style":"normal"},{"_key":"41fc6771fa8a","_type":"block","children":[{"_key":"c0a07b0047d40","_type":"span","marks":[],"text":"For engineering managers, a large community behind a product means easier-to-find candidates when the team needs to be scaled."}],"level":1,"listItem":"number","markDefs":[],"style":"normal"},{"_key":"73fe03b44ee0","_type":"block","children":[{"_key":"7e3fef0e74ad0","_type":"span","marks":[],"text":"Products with large communities are more vulnerable. Many of its bugs are out in the open, so there are fewer surprises. With support-based products with small (or no) communities backing them, you are the mercy of your own knowledge and your TAM being honest."}],"level":1,"listItem":"number","markDefs":[],"style":"normal"},{"_key":"f1ad8e3136fd","_type":"block","children":[{"_key":"70e98720dd6c0","_type":"span","marks":[],"text":"That said, the people I’ve met that "},{"_key":"70e98720dd6c1","_type":"span","marks":["em"],"text":"have"},{"_key":"70e98720dd6c2","_type":"span","marks":[],"text":" used hab seem to be happy with it! Its integration with Chef cookbooks and recipes also seems to provide a much easier migration story for organizations deeply steeped in Chef than Docker does. (You can use Chef to provision container images, and you can use Chef in Docker to build your application, but both "},{"_key":"70e98720dd6c3","_type":"span","marks":["em"],"text":"feel"},{"_key":"70e98720dd6c4","_type":"span","marks":[],"text":" like smells of unnecessary complexity to me.)"}],"markDefs":[],"style":"normal"},{"_key":"4667e3e685c3","_type":"block","children":[{"_key":"fff21ad095620","_type":"span","marks":["strong"],"text":"Stair 1: Multi-container Applications with Docker Compose"}],"markDefs":[],"style":"h2"},{"_key":"9502cbeeb4bd","_type":"block","children":[{"_key":"c0e36035ba5b0","_type":"span","marks":[],"text":""}],"markDefs":[],"style":"normal"},{"_key":"be7a70fa19ce","_type":"block","children":[{"_key":"87e619a75f0e0","_type":"span","marks":[],"text":"The next step that most teams quickly find themselves in is needing to run applications that span more than one container. This use case presents itself with n-tiered web applications or client-server applications, for example."}],"markDefs":[],"style":"normal"},{"_key":"982a57ae42cb","_type":"block","children":[{"_key":"722940ff949b0","_type":"span","marks":[],"text":"This section describes "},{"_key":"722940ff949b1","_type":"span","marks":["strong","em"],"text":"Docker Compose"},{"_key":"722940ff949b2","_type":"span","marks":[],"text":", a popular tool that enables this functionality."}],"markDefs":[],"style":"normal"},{"_key":"1e59024c750d","_type":"block","children":[{"_key":"be0d12ff5f5d0","_type":"span","marks":["strong"],"text":"What is it?"}],"markDefs":[],"style":"h3"},{"_key":"17c9167356b1","_type":"block","children":[{"_key":"7932cb1c5d4c0","_type":"span","marks":["d4999c20ccb3"],"text":"Docker Compose"},{"_key":"7932cb1c5d4c1","_type":"span","marks":[],"text":" is a tool that enables developers to run multi-container applications. It accomplishes this by using:"}],"markDefs":[{"_key":"d4999c20ccb3","_type":"link","href":"https://docs.docker.com/compose/"}],"style":"normal"},{"_key":"fd85e40b6efd","_type":"block","children":[{"_key":"8e7888377f5a0","_type":"span","marks":[],"text":"A YAML-based template or "},{"_key":"8e7888377f5a1","_type":"span","marks":["em"],"text":"manifest"},{"_key":"8e7888377f5a2","_type":"span","marks":[],"text":" used for describing container images and options for each application, or "},{"_key":"8e7888377f5a3","_type":"span","marks":["em"],"text":"service"},{"_key":"8e7888377f5a4","_type":"span","marks":[],"text":", along with their options,"}],"level":1,"listItem":"bullet","markDefs":[],"style":"normal"},{"_key":"3ab133bcaa90","_type":"block","children":[{"_key":"c55e899a9cdd0","_type":"span","marks":[],"text":"A container network to allow each container to talk to each other, and"}],"level":1,"listItem":"bullet","markDefs":[],"style":"normal"},{"_key":"2e8007e3605e","_type":"block","children":[{"_key":"e4460d45e45c0","_type":"span","marks":[],"text":"Modifications to /etc/hosts on each container that allows them to reach each other by service name."}],"level":1,"listItem":"bullet","markDefs":[],"style":"normal"},{"_key":"3675950d5321","_type":"block","children":[{"_key":"08f9a15bc1d20","_type":"span","marks":[],"text":"For example, if I wanted to use Docker Compose to provision a NodeJS web application with a database, I would probably write a Compose manifest that looks like this:"}],"markDefs":[],"style":"normal"},{"_key":"79190984b2d3","_type":"block","children":[{"_key":"1347da9907eb0","_type":"span","marks":[],"text":"---\nversion: \"3.7\"\nservices:\napp:\nimage: nodejs:alpine\nvolumes:\n- \"$PWD:/app\"\n- \"$PWD/node_modules:/root/node_modules\"\ncommand: npm start\ndb:\nimage: postgres\nenvironment:\n- PG_USERNAME=db_user\n- PG_PASSWORD=supersecret\nvolumes:\n- \"$PWD/data:/var/lib/postgresql/data\"\nports:\n- 5432:5432"}],"markDefs":[],"style":"normal"},{"_key":"7c44dfa44242","_type":"block","children":[{"_key":"1475dfcf73dc0","_type":"span","marks":[],"text":"This way, my app can reach the database by using the FQDN db:5432."}],"markDefs":[],"style":"normal"},{"_key":"10aac3599947","_type":"block","children":[{"_key":"6df1350a57fe0","_type":"span","marks":["strong"],"text":"Use Cases"}],"markDefs":[],"style":"h3"},{"_key":"4b1df1606646","_type":"block","children":[{"_key":"74b2b30e5e330","_type":"span","marks":["strong"],"text":"Local Development (again)"}],"markDefs":[],"style":"h4"},{"_key":"716097b3a857","_type":"block","children":[{"_key":"ce42206a9cd80","_type":"span","marks":[],"text":"Legacy applications tend to require multiple processes on the same system for them to work. This architecture is problematic in containerized environments, as the container "},{"_key":"ce42206a9cd81","_type":"span","marks":["em"],"text":"is"},{"_key":"ce42206a9cd82","_type":"span","marks":[],"text":" the process and running multiple processes in a single container yields unpredictable behavior. Subsequently, I’ve found Docker Compose to be an "},{"_key":"ce42206a9cd83","_type":"span","marks":["em"],"text":"excellent"},{"_key":"ce42206a9cd84","_type":"span","marks":[],"text":" tool for helping teams responsible for developing and maintaining applications like these:"}],"markDefs":[],"style":"normal"},{"_key":"c4467081366d","_type":"block","children":[{"_key":"815283fbcf110","_type":"span","marks":[],"text":"Better understand the work and cost involved in getting their application successfully running in containers"}],"level":1,"listItem":"bullet","markDefs":[],"style":"normal"},{"_key":"34463b71fff6","_type":"block","children":[{"_key":"8fe33e748a1b0","_type":"span","marks":[],"text":"Better understand and express boundaries in their applications, which often times are murky due to many years of lost knowledge, and"}],"level":1,"listItem":"bullet","markDefs":[],"style":"normal"},{"_key":"074f0c150c5b","_type":"block","children":[{"_key":"afefcf9ef9a40","_type":"span","marks":[],"text":"Have hard conversations around refactoring architecture and design patterns that made more sense in 1999 than in 2019."}],"level":1,"listItem":"bullet","markDefs":[],"style":"normal"},{"_key":"a34a24182035","_type":"block","children":[{"_key":"265e2693b1380","_type":"span","marks":[],"text":"These crucial conversations are difficult to have during the big-bang migrations. Moving onto a large-scale orchestrator "},{"_key":"265e2693b1381","_type":"span","marks":["em"],"text":"while migrating applications onto it"},{"_key":"265e2693b1382","_type":"span","marks":[],"text":" typically requires engineers to split their time between understanding how the orchestrator works, understanding how their application works within the orchestrator and understanding how their applications work within containers in the first place. The high context switching cost that comes with this often yields poor engineering decisions that become difficult to fix long-term. (Assuming that the application is running on OpenShift and optimizing for that, for example, can hinder a team’s ability to move onto a managed Kubernetes offering from Amazon or Google in the future. This also negates the flexibility and consistency benefits that come with running applications in containers, which "},{"_key":"265e2693b1383","_type":"span","marks":["em"],"text":"kind of defeats the point."}],"markDefs":[],"style":"normal"},{"_key":"71c11658fa6d","_type":"block","children":[{"_key":"8d9ab76bf6130","_type":"span","marks":["strong"],"text":"Things To Watch Out For"}],"markDefs":[],"style":"h3"},{"_key":"e846ea117e10","_type":"block","children":[{"_key":"0d67c82f07b10","_type":"span","marks":["strong"],"text":"Reinventing the wheel"}],"markDefs":[],"style":"h4"},{"_key":"6cb78564a257","_type":"block","children":[{"_key":"e467cdb471ca0","_type":"span","marks":[],"text":""}],"markDefs":[],"style":"normal"},{"_key":"9fe3ea3136f8","_type":"block","children":[{"_key":"93e843dc26340","_type":"span","marks":[],"text":"While Compose can easily run groups of containerized applications and support orchestrator-like features such as external volumes and networks, it’s not really meant to be an orchestrator. If you find yourself trying to shoe-horn things like readiness/healthiness checks or running a service discovery tool like "},{"_key":"93e843dc26341","_type":"span","marks":["0cb6f50c94bc"],"text":"HashiCorp’s Nomad"},{"_key":"93e843dc26342","_type":"span","marks":[],"text":" in your cluster, you might have more success with a small-scale orchestrator like "},{"_key":"93e843dc26343","_type":"span","marks":["6edae2433a06"],"text":"Docker Swarm"},{"_key":"93e843dc26344","_type":"span","marks":[],"text":", which I’ll discuss in more depth soon."}],"markDefs":[{"_key":"0cb6f50c94bc","_type":"link","href":"http://hashicorp.com/nomad"},{"_key":"6edae2433a06","_type":"link","href":"http://docker.com/swarm"}],"style":"normal"},{"_key":"d1f4d7dea826","_type":"block","children":[{"_key":"db7ae08f6f730","_type":"span","marks":["strong"],"text":"Don’t Repeat Yourself"}],"markDefs":[],"style":"h4"},{"_key":"739bec5522b3","_type":"block","children":[{"_key":"908767c37afe0","_type":"span","marks":[],"text":""}],"markDefs":[],"style":"normal"},{"_key":"569094317cfe","_type":"block","children":[{"_key":"d78611aa701c0","_type":"span","marks":[],"text":"A cool feature that Docker Compose used to have was the ability to reuse service definitions through the extend keyword. This was a convenient way of encouraging reuse throughout your Compose services."}],"markDefs":[],"style":"normal"},{"_key":"691a3c1335bf","_type":"block","children":[{"_key":"9a5da3aab53a0","_type":"span","marks":[],"text":"Say that you had a Compose manifest that defines two services, one for each application. Both of them share the same Dockerfile since they are both written in the same language. You might define your docker-compose.yaml like this:"}],"markDefs":[],"style":"normal"},{"_key":"e7934fdb3a8e","_type":"block","children":[{"_key":"6b0be02657d80","_type":"span","marks":[],"text":"---\nversion: \"2.6\"\nservices:\nfirst_app:\nbuild:\ncontext: .\nargs:\n- APP_TO_BUILD=first_app\nvolumes:\n- $PWD/this_volume:/app\n- $PWD/some_other_volume:/data\n- $PWD/that_volume:/conf\nworking_dir: /app\nnetworks:\n- fake_network\ncommand: ./run.sh first_app\nsecond_app:\nbuild:\ncontext: .\nargs:\n- APP_TO_BUILD=second_app\nvolumes:\n- $PWD/this_volume:/app\n- $PWD/some_other_volume:/data\n- $PWD/that_volume:/conf\nworking_dir: /app\nnetworks:\n- fake_network\ncommand: \"./run.sh second_app\"\n---"}],"markDefs":[],"style":"normal"},{"_key":"8a8e8c689d0b","_type":"block","children":[{"_key":"4d193470023d0","_type":"span","marks":[],"text":"That’s a huge reduction!"}],"markDefs":[],"style":"normal"},{"_key":"b5aeecd7f18e","_type":"block","children":[{"_key":"a97857d6fcf10","_type":"span","marks":[],"text":"My readers with better attention to detail than me might notice that the version keywords between the first and second code snippets are mismatched. This is intentional. Docker dropped support for the extends keyword in version “3” of the format to encourage users to use Docker Swarm instead. Actually, I think that was the original reason, but Swarm "},{"_key":"a97857d6fcf11","_type":"span","marks":["5c5216e3bdd9"],"text":"doesn’t seem to have a viable alternative"},{"_key":"a97857d6fcf12","_type":"span","marks":[],"text":" either. In any case, this feature has been removed, and its reincarnation is "},{"_key":"a97857d6fcf13","_type":"span","marks":["c5337fadc754"],"text":"still a hot topic"},{"_key":"a97857d6fcf14","_type":"span","marks":[],"text":" in the Docker community."}],"markDefs":[{"_key":"5c5216e3bdd9","_type":"link","href":"https://github.com/moby/moby/issues/31101#issuecomment-329527600"},{"_key":"c5337fadc754","_type":"link","href":"https://github.com/moby/moby/issues/31101#issuecomment-329527600"}],"style":"normal"},{"_key":"f8d087b61d65","_type":"block","children":[{"_key":"170c02a062c40","_type":"span","marks":["strong"],"text":"Alternatives"}],"markDefs":[],"style":"h3"},{"_key":"cc7ff2e50afd","_type":"block","children":[{"_key":"dcff5921d11a0","_type":"span","marks":[],"text":"There aren’t really alternatives to Docker Compose that do not provide orchestration features. This makes sense, as the gap between “I want to run multiplemulitple applications in Docker that talk to each other” and “I want to orchestrate these applications across many hosts” is really small."}],"markDefs":[],"style":"normal"},{"_key":"9b2512541f9b","_type":"block","children":[{"_key":"2aef361ab8530","_type":"span","marks":[],"text":"The most tenable alternative, Docker Swarm, uses the Compose format for describing services and provides orchestration features on top to enable containers to run out of multiple hosts. The most tenable non-Docker alternative, HashiCorp’s "},{"_key":"2aef361ab8531","_type":"span","marks":["e64fb9e23f3f"],"text":"Nomad"},{"_key":"2aef361ab8532","_type":"span","marks":[],"text":", provides a similar feature-set. Both will be covered in depth in the next post."}],"markDefs":[{"_key":"e64fb9e23f3f","_type":"link","href":"https://hashicorp.com/nomad"}],"style":"normal"},{"_key":"9396cf5114e0","_type":"block","children":[{"_key":"9fcbddde4b8f0","_type":"span","marks":["strong"],"text":"Intermission: A Real-Life Example"}],"markDefs":[],"style":"h2"},{"_key":"09ff54d2f47b","_type":"block","children":[{"_key":"605d6809b17e0","_type":"span","marks":[],"text":""}],"markDefs":[],"style":"normal"},{"_key":"7634331751c8","_type":"block","children":[{"_key":"c2eab123e63d0","_type":"span","marks":[],"text":"We recently helped a Fortune 100 financial services provider that was eager to move its entire customer-facing web portal onto a containerized platform. They were considering and experimenting with multiple platform options in hopes of moving all of its 1000+ Java-based applications onto one of them within two years. They were already a year into fulfilling this mandate, so crunch time was near."}],"markDefs":[],"style":"normal"},{"_key":"a8fac82ea3a8","_type":"block","children":[{"_key":"017a65cd0b510","_type":"span","marks":[],"text":"During our initial assessment of their “lighthouse” application, an account management portal, we saw that their developers had already spent several months learning about Docker and integrating it into their SDLC. They even built an Eclipse plugin that automatically provisioned a Java Docker container at build time that developers could use to run further tests."}],"markDefs":[],"style":"normal"},{"_key":"767dcb71cee0","_type":"block","children":[{"_key":"92c44e476a3b0","_type":"span","marks":[],"text":"However, the rush to move their applications left little time to truly look at "},{"_key":"92c44e476a3b1","_type":"span","marks":["em"],"text":"how"},{"_key":"92c44e476a3b2","_type":"span","marks":[],"text":" their applications (and their development lifecycles) would work after throwing an orchestrator into the mix. Here are some problems that we found during our initial discovery period with them:"}],"markDefs":[],"style":"normal"},{"_key":"b4ae7f2be39a","_type":"block","children":[{"_key":"6c43197cb9790","_type":"span","marks":[],"text":"The Docker image our lifecycle application used was stored on someone’s computer. After digging a bit inside of their Artifactory-based Docker registry, that image’s parent image (i.e. the image specified on the FROM line) had "},{"_key":"6c43197cb9791","_type":"span","marks":["em"],"text":"multiple"},{"_key":"6c43197cb9792","_type":"span","marks":[],"text":" doppelegängers, "},{"_key":"6c43197cb9793","_type":"span","marks":["em"],"text":"none"},{"_key":"6c43197cb9794","_type":"span","marks":[],"text":" of whom were "},{"_key":"6c43197cb9795","_type":"span","marks":["em"],"text":"actually"},{"_key":"6c43197cb9796","_type":"span","marks":[],"text":" used for this application’s image. (We ultimately concluded that the author of this Docker image downloaded its parent image onto their computer and sourced from that.)"}],"level":1,"listItem":"bullet","markDefs":[],"style":"normal"},{"_key":"0518cfc55b05","_type":"block","children":[{"_key":"6133a9baf20a0","_type":"span","marks":[],"text":"The application itself sourced its configuration data from different locations depending on where in the release lifecycle the application was being built. Worse, the application contained many hardcoded URL addresses, credentials, database connection strings and other configuration information that really should’ve been stored elsewhere."}],"level":1,"listItem":"bullet","markDefs":[],"style":"normal"},{"_key":"44f1bda71a51","_type":"block","children":[{"_key":"ae1188d834dc0","_type":"span","marks":[],"text":"While the Java container built by their plugin included the application under test, because the application was served by WebLogic, the developer had to log into the container via docker exec to copy over configuration data and start the application before they could begin testing."}],"level":1,"listItem":"bullet","markDefs":[],"style":"normal"},{"_key":"e4a41be1c62d","_type":"block","children":[{"_key":"d909c041cac60","_type":"span","marks":[],"text":"Everything that we found were all signs of a nightmarish and likely abortive migration effort."}],"markDefs":[],"style":"normal"},{"_key":"e04be04ed520","_type":"block","children":[{"_key":"654cdc176cf30","_type":"span","marks":[],"text":"We spent several months working through these and many other issues with the application team. We also worked together to implement the "},{"_key":"654cdc176cf31","_type":"span","marks":["em"],"text":"Build-Test-Deploy"},{"_key":"654cdc176cf32","_type":"span","marks":[],"text":" workflow that I introduced in Part One. We anticipated having the lighthouse application running out of one of the orchestrators they were experimenting with before our time together was over, but found that starting from the ground up — getting their application working without human intervention through Docker and Docker Compose — was "},{"_key":"654cdc176cf33","_type":"span","marks":["em"],"text":"significantly"},{"_key":"654cdc176cf34","_type":"span","marks":[],"text":" more valuable. By the end of our time there, the application team was able to move "},{"_key":"654cdc176cf35","_type":"span","marks":["em"],"text":"all"},{"_key":"654cdc176cf36","_type":"span","marks":[],"text":" hardcoded data into configuration manifests, leverage "},{"_key":"654cdc176cf37","_type":"span","marks":["033750035465"],"text":"confd"},{"_key":"654cdc176cf38","_type":"span","marks":[],"text":" for injecting this configuration at run-time, define the “base” and “middleware” images they required and, most importantly, be able to build, test and run their application securely without a single additional command. This application will run beautifully and consistently whether it’s on their development machines or in a massive Kubernetes cluster, and, more importantly, the team left with a framework that will make it easy to build production-ready applications right from their laptops."}],"markDefs":[{"_key":"033750035465","_type":"link","href":"https://github.com/kelseyhightower/confd"}],"style":"normal"},{"_key":"4b5cf4fa145d","_type":"block","children":[{"_key":"967224b59a7b0","_type":"span","marks":["strong"],"text":"What’s Next?"}],"markDefs":[],"style":"normal"},{"_key":"f7f524bf0d3e","_type":"block","children":[{"_key":"5c56a7ddcbdd0","_type":"span","marks":[],"text":"In this post, we covered the first two stairs of the Container Platform Maturity Stairs, single-application containers with Docker and multi-application container groups with Docker Compose. We discussed the pros and cons of each, and used a real-life example of these stairs at work for a real Fortune 100 financial services provider undergoing an adoption of containers at scale for more than 1,000 Java-based web applications."}],"markDefs":[],"style":"normal"},{"_key":"e508d7fd00a9","_type":"block","children":[{"_key":"c9a64223279f0","_type":"span","marks":[],"text":"At a large enough size, being able to discover applications, define their “healthiness” and “readiness” criteria and have more control over how they are exposed on the network and into the Internet become important. Container orchestration platforms provide all of these features (and more), but knowing whether to stick to a Docker-based orchestration platform or begin using a non-Docker-based platform depends on your desired outcomes. Our next post will discuss the next steps of the Stairs, all of which focus on container "},{"_key":"c9a64223279f1","_type":"span","marks":["em"],"text":"orchestrators"},{"_key":"c9a64223279f2","_type":"span","marks":[],"text":". Like this post, I will focus on a real-life example of how moving to orchestrators from raw Docker produced big gains for a large enterprise."}],"markDefs":[],"style":"normal"},{"_key":"e124d32d738d","_type":"block","children":[{"_key":"3b4302cbd81e0","_type":"span","marks":[],"text":"I will wrap this series with a brief discussion of when jumping between the Stairs makes sense and peripheral concerns to think about that come with running containers at enterprise scale."}],"markDefs":[],"style":"normal"}],"author":{"name":"Carlos Nunez","image":{"alt":"Carlos Nunez","asset":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAQABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAYHCP/EACIQAAEDBAICAwAAAAAAAAAAAAECAwQABQYRBxJRYSExQf/EABcBAAMBAAAAAAAAAAAAAAAAAAECAwT/xAAZEQADAQEBAAAAAAAAAAAAAAAAAQIDITH/2gAMAwEAAhEDEQA/ALdk8pyLY33GO3b4G0/YFIuE3R85s5GYVIMRxkqWlw7CVeaTOa+RrhAu6rDbylpkJSXlkbKt/lT/AB3k6bY8rE5DSHopQGnEga7J8j3RrK3oqXg8awsqlrpr5xQ7UUu2TIIt9tce4Ql9mXk7Hr1RVjMf/9k=","aspectRatio":1.25,"src":"https://cdn.sanity.io/images/hgftikht/production/e3c77a443c38f448b1834df6d91659509140abe0-5020x4016.jpg?w=80&h=64&fit=crop","srcSet":"https://cdn.sanity.io/images/hgftikht/production/e3c77a443c38f448b1834df6d91659509140abe0-5020x4016.jpg?w=120&h=96&fit=crop 120w,\nhttps://cdn.sanity.io/images/hgftikht/production/e3c77a443c38f448b1834df6d91659509140abe0-5020x4016.jpg?w=160&h=128&fit=crop 160w,\nhttps://cdn.sanity.io/images/hgftikht/production/e3c77a443c38f448b1834df6d91659509140abe0-5020x4016.jpg?w=240&h=192&fit=crop 240w,\nhttps://cdn.sanity.io/images/hgftikht/production/e3c77a443c38f448b1834df6d91659509140abe0-5020x4016.jpg 5020w","srcWebp":"https://cdn.sanity.io/images/hgftikht/production/e3c77a443c38f448b1834df6d91659509140abe0-5020x4016.jpg?w=80&h=64&fit=crop&fm=webp","srcSetWebp":"https://cdn.sanity.io/images/hgftikht/production/e3c77a443c38f448b1834df6d91659509140abe0-5020x4016.jpg?w=120&h=96&fit=crop&fm=webp 120w,\nhttps://cdn.sanity.io/images/hgftikht/production/e3c77a443c38f448b1834df6d91659509140abe0-5020x4016.jpg?w=160&h=128&fit=crop&fm=webp 160w,\nhttps://cdn.sanity.io/images/hgftikht/production/e3c77a443c38f448b1834df6d91659509140abe0-5020x4016.jpg?w=240&h=192&fit=crop&fm=webp 240w,\nhttps://cdn.sanity.io/images/hgftikht/production/e3c77a443c38f448b1834df6d91659509140abe0-5020x4016.jpg?fm=webp 5020w","sizes":"(max-width: 80px) 100vw, 80px"}}}}},"moreArticles":[{"title":"AWS Lambda Functions: Getting Started with Serverless","slug":{"current":"aws-lambda-functions-getting-started-with-serverless"},"publishedAt":"19 February 2019","heroImage":{"alt":"AWS Lambda Functions: Getting Started with Serverless","asset":{"fluid":{"aspectRatio":1.4754098360655739,"src":"https://cdn.sanity.io/images/hgftikht/production/c4f2652cc934b1aae3c8dda428d744b09293711b-1000x666.jpg?w=630&h=427&fit=crop","srcSet":"https://cdn.sanity.io/images/hgftikht/production/c4f2652cc934b1aae3c8dda428d744b09293711b-1000x666.jpg?w=158&h=107&fit=crop 158w,\nhttps://cdn.sanity.io/images/hgftikht/production/c4f2652cc934b1aae3c8dda428d744b09293711b-1000x666.jpg?w=315&h=214&fit=crop 315w,\nhttps://cdn.sanity.io/images/hgftikht/production/c4f2652cc934b1aae3c8dda428d744b09293711b-1000x666.jpg?w=630&h=427&fit=crop 630w,\nhttps://cdn.sanity.io/images/hgftikht/production/c4f2652cc934b1aae3c8dda428d744b09293711b-1000x666.jpg?w=945&h=641&fit=crop 945w,\nhttps://cdn.sanity.io/images/hgftikht/production/c4f2652cc934b1aae3c8dda428d744b09293711b-1000x666.jpg?w=1000&h=678&fit=crop 1000w","srcWebp":"https://cdn.sanity.io/images/hgftikht/production/c4f2652cc934b1aae3c8dda428d744b09293711b-1000x666.jpg?w=630&h=427&fit=crop&fm=webp","srcSetWebp":"https://cdn.sanity.io/images/hgftikht/production/c4f2652cc934b1aae3c8dda428d744b09293711b-1000x666.jpg?w=158&h=107&fit=crop&fm=webp 158w,\nhttps://cdn.sanity.io/images/hgftikht/production/c4f2652cc934b1aae3c8dda428d744b09293711b-1000x666.jpg?w=315&h=214&fit=crop&fm=webp 315w,\nhttps://cdn.sanity.io/images/hgftikht/production/c4f2652cc934b1aae3c8dda428d744b09293711b-1000x666.jpg?w=630&h=427&fit=crop&fm=webp 630w,\nhttps://cdn.sanity.io/images/hgftikht/production/c4f2652cc934b1aae3c8dda428d744b09293711b-1000x666.jpg?w=945&h=641&fit=crop&fm=webp 945w,\nhttps://cdn.sanity.io/images/hgftikht/production/c4f2652cc934b1aae3c8dda428d744b09293711b-1000x666.jpg?w=1000&h=678&fit=crop&fm=webp 1000w","sizes":"(max-width: 630px) 100vw, 630px"}}},"author":{"name":"Benjamin Wootton","image":{"alt":"Benjamin Wootton","asset":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAFl0lEQVQ4yz3Uf0wTZxgH8KOJ1f+MBsec2Z9kLGYJmsVl/5i4OEnMplncXLaZGZP5kzh12VTmD5xaQFSkiIyCCIggIoItAiICFZQiKCBSSu3v37S9Xu/aa+8O2ufZW5btkie5P973k+/zvO8dFYm4KCHqoTAapPiIOy0aca2IcK6NLOvKJ9UbDjtd4ZBTYEKOVLlDtL2Ppm3n6aB1E6mVgYCV7PFRDG2lgn4zRQm8j0o9PO9dEuO9mbGoZx+plijnMoT8ZsZjnRRthpdJy4wu6bRMSEHfu3A4ZDOSag3RtoN00JZFSp4yGNpOUQtChIrz7iVx3vOJEPOeE2K+cYH38lzADM7pYdRr1Tje2YQj6joce9KM5kktBtwzwIbsMZZxvAnTdgVD27JDQYuc4TiKEqPeNJH3ZIoEk+K+2fn43ILAOtFvHAPzgBqMnc3wrqMJptpqYbRFBaPqOpjRPQa/cxojjCPBMQ4TS9sULG3NitI2GUWwFRLv3SeRZAuCf2E+5gPWOQ0uXQ84e9vAP9ABwWdd4H36EIzq2zDaeAOGmitBT9Cw3wQ860xEQvYpLmTLJXA6RbCNBGlZiM/xSSmIYsQNfr0O7E/b0EcQdrgXoy/7kRnqRkd3M07erYD+6kv4QnMb/I63IETcyIcdsQhjbyfoZopg+QQzJAQ/JOdpEDgXeCcH0dZzH/z9aoyO9GF8TIvsix70PL6P+nsq7FcVwLMWFfqsk0ACQZxzYTTsMJGkBQSc6yWtMkmJxuR8iIAe8EwOgkHTgMbWWoK0YnCgA22aJpyov4EvVMXYozyH/XfKwW0YBYl0JPEejLFOlmccWmo+7nORdGIKTMwzEA+7wDHah0M1JahR5OHzG5dwplGF2tKL2HTyMN47/Stqio5jX/VltAw/AT5gASnqQYFzSzHW5SHgnJAQAsn/QdoOruEe1FVfw07FKXxeVoj6+gocvl6Ejy6cxO7CU9h/LR8HK4rw3ZN2INc1lZLM3pOMc26BWkiBYgoMkZYZEFkP0G+G0fGoBc33atFy9xZammrQWF+JpsabaLp3C8drSlGnuormPs0iKLIulAhIxiWSi+13J8SgROZHwDAsxIMQsb7FwEAnutsbF6GJ8qv4Snlp8d12vx5f31Tic9KBeagbWPcsiGFnCpTEiNdHkfn1ETAM88y/oBgC1q4HW88DnKorx5fKQhxUnMWBv/5E3TUFjleX4iCZq/ZWGcySk2ecehAYRwrkpKh3iICB8wQ0JkQaEhKzCIZdBpx9fB9ekdYm/i7ByTKSsKQIR5QFOFimQE3xGegiCQ3Dvam1/4FmAhYTMLgpIdCtSZGOpVICSRmjHfBusBPHbt+AmQYV2u7WofF2FY5UXsaOojxQHT+E5Wf/gN62O+A0jCE3Z4oLYZeGHEwOlYgHVxL04EIs8CbOeRO0zwKGNyPQ96ABusqLQKcqgekG8g1XlUL7+RNQ8/sBLDywG/bs+Br27f4Byi5fSDztbJ22zb4+InKeVZTTMpWWiAeyPDa9YqBHbVJeKUwczd2PJw7tharTv0HbxZPw8EIeNBw/DNf3/wxVxw7A5WO5sOnzzzBjVXri448yrTt3bC+uKCtei8jLFv+FmOTkd26psnd9/50iKzNz6sM1H8R2bs3BmvwT2F5wChvzjmL10f1Yd/wwqq9cROWZPNywPjsuS5NNk+3F8iVLPn1vVfrSfXv3UNT6ddmLaMbKDPky+bIs8pq7Yvny9p++2WZqulrIDtWUSy+qlMlBVWlyqF4laZvquNLz+eYN69dpZDLZEZksba1cLl+aMnZ+u52iGmorqZamGgoRqe3btqYip69Z/f7mX3b9WNBSUaYdf9DoMambBVNXmzjV2+Ub7tQM1ZaVFn+15cscsnbV6owMWWrv6RPHqJwtX1D/AKpcrJ8uVy79AAAAAElFTkSuQmCC","aspectRatio":1,"src":"https://cdn.sanity.io/images/hgftikht/production/3f296f1054c4071eddb46d9d64631cd858167912-420x420.png?w=80&h=80&fit=crop","srcSet":"https://cdn.sanity.io/images/hgftikht/production/3f296f1054c4071eddb46d9d64631cd858167912-420x420.png?w=120&h=120&fit=crop 120w,\nhttps://cdn.sanity.io/images/hgftikht/production/3f296f1054c4071eddb46d9d64631cd858167912-420x420.png?w=160&h=160&fit=crop 160w,\nhttps://cdn.sanity.io/images/hgftikht/production/3f296f1054c4071eddb46d9d64631cd858167912-420x420.png?w=240&h=240&fit=crop 240w,\nhttps://cdn.sanity.io/images/hgftikht/production/3f296f1054c4071eddb46d9d64631cd858167912-420x420.png 420w","srcWebp":"https://cdn.sanity.io/images/hgftikht/production/3f296f1054c4071eddb46d9d64631cd858167912-420x420.png?w=80&h=80&fit=crop&fm=webp","srcSetWebp":"https://cdn.sanity.io/images/hgftikht/production/3f296f1054c4071eddb46d9d64631cd858167912-420x420.png?w=120&h=120&fit=crop&fm=webp 120w,\nhttps://cdn.sanity.io/images/hgftikht/production/3f296f1054c4071eddb46d9d64631cd858167912-420x420.png?w=160&h=160&fit=crop&fm=webp 160w,\nhttps://cdn.sanity.io/images/hgftikht/production/3f296f1054c4071eddb46d9d64631cd858167912-420x420.png?w=240&h=240&fit=crop&fm=webp 240w,\nhttps://cdn.sanity.io/images/hgftikht/production/3f296f1054c4071eddb46d9d64631cd858167912-420x420.png?fm=webp 420w","sizes":"(max-width: 80px) 100vw, 80px"}}}}},{"title":"Using Cloud Automation to Destroy Command-and-Control Bureaucracy (and Free Your Engineers)","slug":{"current":"using-cloud-automation-to-destroy-command-and-control-bureaucracy-and-free-your-engineers"},"publishedAt":"14 February 2019","heroImage":{"alt":"Using Cloud Automation to Destroy Command-and-Control Bureaucracy (and Free Your Engineers)","asset":{"fluid":{"aspectRatio":1.4754098360655739,"src":"https://cdn.sanity.io/images/hgftikht/production/4819787aee9a5dab6b423c86d3b247b57f37ad8a-1000x666.jpg?w=630&h=427&fit=crop","srcSet":"https://cdn.sanity.io/images/hgftikht/production/4819787aee9a5dab6b423c86d3b247b57f37ad8a-1000x666.jpg?w=158&h=107&fit=crop 158w,\nhttps://cdn.sanity.io/images/hgftikht/production/4819787aee9a5dab6b423c86d3b247b57f37ad8a-1000x666.jpg?w=315&h=214&fit=crop 315w,\nhttps://cdn.sanity.io/images/hgftikht/production/4819787aee9a5dab6b423c86d3b247b57f37ad8a-1000x666.jpg?w=630&h=427&fit=crop 630w,\nhttps://cdn.sanity.io/images/hgftikht/production/4819787aee9a5dab6b423c86d3b247b57f37ad8a-1000x666.jpg?w=945&h=641&fit=crop 945w,\nhttps://cdn.sanity.io/images/hgftikht/production/4819787aee9a5dab6b423c86d3b247b57f37ad8a-1000x666.jpg?w=1000&h=678&fit=crop 1000w","srcWebp":"https://cdn.sanity.io/images/hgftikht/production/4819787aee9a5dab6b423c86d3b247b57f37ad8a-1000x666.jpg?w=630&h=427&fit=crop&fm=webp","srcSetWebp":"https://cdn.sanity.io/images/hgftikht/production/4819787aee9a5dab6b423c86d3b247b57f37ad8a-1000x666.jpg?w=158&h=107&fit=crop&fm=webp 158w,\nhttps://cdn.sanity.io/images/hgftikht/production/4819787aee9a5dab6b423c86d3b247b57f37ad8a-1000x666.jpg?w=315&h=214&fit=crop&fm=webp 315w,\nhttps://cdn.sanity.io/images/hgftikht/production/4819787aee9a5dab6b423c86d3b247b57f37ad8a-1000x666.jpg?w=630&h=427&fit=crop&fm=webp 630w,\nhttps://cdn.sanity.io/images/hgftikht/production/4819787aee9a5dab6b423c86d3b247b57f37ad8a-1000x666.jpg?w=945&h=641&fit=crop&fm=webp 945w,\nhttps://cdn.sanity.io/images/hgftikht/production/4819787aee9a5dab6b423c86d3b247b57f37ad8a-1000x666.jpg?w=1000&h=678&fit=crop&fm=webp 1000w","sizes":"(max-width: 630px) 100vw, 630px"}}},"author":{"name":"Cliff Almond","image":null}},{"title":"The Risk Management Paradox: Enable Your Teams By Giving Up Control","slug":{"current":"the-risk-management-paradox-enable-your-teams-by-giving-up-control"},"publishedAt":"12 February 2019","heroImage":{"alt":"The Risk Management Paradox: Enable Your Teams By Giving Up Control","asset":{"fluid":{"aspectRatio":1.4754098360655739,"src":"https://cdn.sanity.io/images/hgftikht/production/30929b48fa89bb1bb4f74877b57f5739a9a951b9-1000x666.jpg?w=630&h=427&fit=crop","srcSet":"https://cdn.sanity.io/images/hgftikht/production/30929b48fa89bb1bb4f74877b57f5739a9a951b9-1000x666.jpg?w=158&h=107&fit=crop 158w,\nhttps://cdn.sanity.io/images/hgftikht/production/30929b48fa89bb1bb4f74877b57f5739a9a951b9-1000x666.jpg?w=315&h=214&fit=crop 315w,\nhttps://cdn.sanity.io/images/hgftikht/production/30929b48fa89bb1bb4f74877b57f5739a9a951b9-1000x666.jpg?w=630&h=427&fit=crop 630w,\nhttps://cdn.sanity.io/images/hgftikht/production/30929b48fa89bb1bb4f74877b57f5739a9a951b9-1000x666.jpg?w=945&h=641&fit=crop 945w,\nhttps://cdn.sanity.io/images/hgftikht/production/30929b48fa89bb1bb4f74877b57f5739a9a951b9-1000x666.jpg?w=1000&h=678&fit=crop 1000w","srcWebp":"https://cdn.sanity.io/images/hgftikht/production/30929b48fa89bb1bb4f74877b57f5739a9a951b9-1000x666.jpg?w=630&h=427&fit=crop&fm=webp","srcSetWebp":"https://cdn.sanity.io/images/hgftikht/production/30929b48fa89bb1bb4f74877b57f5739a9a951b9-1000x666.jpg?w=158&h=107&fit=crop&fm=webp 158w,\nhttps://cdn.sanity.io/images/hgftikht/production/30929b48fa89bb1bb4f74877b57f5739a9a951b9-1000x666.jpg?w=315&h=214&fit=crop&fm=webp 315w,\nhttps://cdn.sanity.io/images/hgftikht/production/30929b48fa89bb1bb4f74877b57f5739a9a951b9-1000x666.jpg?w=630&h=427&fit=crop&fm=webp 630w,\nhttps://cdn.sanity.io/images/hgftikht/production/30929b48fa89bb1bb4f74877b57f5739a9a951b9-1000x666.jpg?w=945&h=641&fit=crop&fm=webp 945w,\nhttps://cdn.sanity.io/images/hgftikht/production/30929b48fa89bb1bb4f74877b57f5739a9a951b9-1000x666.jpg?w=1000&h=678&fit=crop&fm=webp 1000w","sizes":"(max-width: 630px) 100vw, 630px"}}},"author":{"name":" Brett Luckabaugh","image":null}}],"sanityPage":{"slug":{"current":"insights"},"blocks":[{"__typename":"SanitySignupBlock","_key":"bcb83330a70e","_type":"signupBlock","component":"module---src-components-blocks-signup-block-index-js-default-","reference":{"title":"Sign-up: Insights Directly to Your Inbox","subtitle":"Join tens of thousands of your peers and sign-up for our best content and industry commentary, curated by our experts.","successMessage":"Thanks for signing-up!","submitBtn":"Subscribe","marketoSnippet":"<script src=\"https://www10.contino.io/js/forms2/js/forms2.min.js\"></script><form id=\"mktoForm_1126\"></form>   <script>    MktoForms2.setOptions({formXDPath : \"/rs/964-BIK-421/images/marketo-xdframe-relative.html\"});    MktoForms2.loadForm(\"//www10.contino.io\", \"964-BIK-421\", 1126);   </script>"}}]}},"pageContext":{"sanityId":"51090a15-cb40-49b8-abba-8d3cf0835d31"}},"staticQueryHashes":["2919194494","3157258374","3449559901"],"moduleDependencies":["module---src-components-blocks-signup-block-index-js-default-"]}